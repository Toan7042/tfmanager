{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/TON/Desktop/WEBCODE/NextJS/TFKey/tf-manager/app/components/Nav.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { signIn, signOut, useSession } from \"next-auth/react\";\r\nimport Link from \"next/link\";\r\nimport { useState } from \"react\";\r\nimport { Menu, X, LayoutDashboard, Shield } from \"lucide-react\";\r\n\r\nexport default function Navbar() {\r\n  const { data: session } = useSession();\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n\r\n  // Danh sách menu\r\n  const menuItems = [\r\n    {\r\n      href: \"/dashboard\",\r\n      label: \"Dashboard\",\r\n      icon: <LayoutDashboard size={16} />,\r\n      show: !!session,\r\n    },\r\n    {\r\n      href: \"/admin\",\r\n      label: \"Admin\",\r\n      icon: <Shield size={16} />,\r\n      show: session?.user?.role === \"admin\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {/* Navbar */}\r\n      <nav className=\"bg-white shadow-md fixed top-0 left-0 w-full z-50\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center h-16\">\r\n            {/* Logo = Trang chủ */}\r\n            <Link href=\"/\" className=\"text-xl font-semibold text-blue-600 hover:opacity-80 transition\">\r\n              ToolWeb\r\n            </Link>\r\n\r\n            {/* Desktop Menu */}\r\n            <div className=\"hidden md:flex space-x-3\">\r\n              {menuItems\r\n                .filter((item) => item.show)\r\n                .map((item) => (\r\n                  <Link\r\n                    key={item.href}\r\n                    href={item.href}\r\n                    className=\"flex items-center space-x-1.5 bg-gray-100 px-3 py-1.5 rounded-md text-sm text-gray-700 hover:bg-blue-100 hover:text-blue-500 transition\"\r\n                  >\r\n                    {item.icon}\r\n                    <span>{item.label}</span>\r\n                  </Link>\r\n                ))}\r\n\r\n              {session ? (\r\n                <button\r\n                  onClick={() => signOut()}\r\n                  className=\"bg-red-500 text-white px-3 py-1.5 text-sm rounded-md hover:bg-red-600 transition\"\r\n                >\r\n                  Đăng xuất\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={() => signIn(\"google\")}\r\n                  className=\"bg-blue-500 text-white px-3 py-1.5 text-sm rounded-md hover:bg-blue-600 transition\"\r\n                >\r\n                  Đăng nhập\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Mobile Menu Button */}\r\n            <div className=\"md:hidden\">\r\n              <button onClick={() => setMenuOpen(!menuOpen)} className=\"text-gray-700\">\r\n                {menuOpen ? <X size={28} /> : <Menu size={28} />}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mobile Menu (Giữ nguyên) */}\r\n        {menuOpen && (\r\n          <div className=\"md:hidden bg-white shadow-md py-4 px-6 space-y-4 absolute top-16 left-0 w-full\">\r\n            {menuItems\r\n              .filter((item) => item.show)\r\n              .map((item) => (\r\n                <Link\r\n                  key={item.href}\r\n                  href={item.href}\r\n                  className=\"block text-gray-700 hover:text-blue-500 flex items-center space-x-2 text-base\"\r\n                >\r\n                  {item.icon}\r\n                  <span>{item.label}</span>\r\n                </Link>\r\n              ))}\r\n\r\n            {session ? (\r\n              <button\r\n                onClick={() => signOut()}\r\n                className=\"block w-full text-left bg-red-500 text-white px-4 py-2 rounded-lg text-base hover:bg-red-600 transition\"\r\n              >\r\n                Đăng xuất\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={() => signIn(\"google\")}\r\n                className=\"block w-full text-center bg-blue-500 text-white px-4 py-2 rounded-lg text-base hover:bg-blue-600 transition\"\r\n              >\r\n                Đăng nhập\r\n              </button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </nav>\r\n\r\n      {/* Padding tránh navbar đè lên nội dung */}\r\n      <div className=\"pt-16\"></div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,aAAU,AAAD;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,iBAAiB;IACjB,MAAM,YAAY;QAChB;YACE,MAAM;YACN,OAAO;YACP,oBAAM,6LAAC,+NAAA,CAAA,kBAAe;gBAAC,MAAM;;;;;;YAC7B,MAAM,CAAC,CAAC;QACV;QACA;YACE,MAAM;YACN,OAAO;YACP,oBAAM,6LAAC,yMAAA,CAAA,SAAM;gBAAC,MAAM;;;;;;YACpB,MAAM,SAAS,MAAM,SAAS;QAChC;KACD;IAED,qBACE;;0BAEE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CAEb,6LAAC,+JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAI,WAAU;8CAAkE;;;;;;8CAK3F,6LAAC;oCAAI,WAAU;;wCACZ,UACE,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI,EAC1B,GAAG,CAAC,CAAC,qBACJ,6LAAC,+JAAA,CAAA,UAAI;gDAEH,MAAM,KAAK,IAAI;gDACf,WAAU;;oDAET,KAAK,IAAI;kEACV,6LAAC;kEAAM,KAAK,KAAK;;;;;;;+CALZ,KAAK,IAAI;;;;;wCASnB,wBACC,6LAAC;4CACC,SAAS,IAAM,CAAA,GAAA,iJAAA,CAAA,UAAO,AAAD;4CACrB,WAAU;sDACX;;;;;iEAID,6LAAC;4CACC,SAAS,IAAM,CAAA,GAAA,iJAAA,CAAA,SAAM,AAAD,EAAE;4CACtB,WAAU;sDACX;;;;;;;;;;;;8CAOL,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAO,SAAS,IAAM,YAAY,CAAC;wCAAW,WAAU;kDACtD,yBAAW,6LAAC,+LAAA,CAAA,IAAC;4CAAC,MAAM;;;;;iEAAS,6LAAC,qMAAA,CAAA,OAAI;4CAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAOjD,0BACC,6LAAC;wBAAI,WAAU;;4BACZ,UACE,MAAM,CAAC,CAAC,OAAS,KAAK,IAAI,EAC1B,GAAG,CAAC,CAAC,qBACJ,6LAAC,+JAAA,CAAA,UAAI;oCAEH,MAAM,KAAK,IAAI;oCACf,WAAU;;wCAET,KAAK,IAAI;sDACV,6LAAC;sDAAM,KAAK,KAAK;;;;;;;mCALZ,KAAK,IAAI;;;;;4BASnB,wBACC,6LAAC;gCACC,SAAS,IAAM,CAAA,GAAA,iJAAA,CAAA,UAAO,AAAD;gCACrB,WAAU;0CACX;;;;;qDAID,6LAAC;gCACC,SAAS,IAAM,CAAA,GAAA,iJAAA,CAAA,SAAM,AAAD,EAAE;gCACtB,WAAU;0CACX;;;;;;;;;;;;;;;;;;0BAST,6LAAC;gBAAI,WAAU;;;;;;;;AAGrB;GA/GwB;;QACI,iJAAA,CAAA,aAAU;;;KADd","debugId":null}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/TON/Desktop/WEBCODE/NextJS/TFKey/tf-manager/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst prisma = new PrismaClient();\r\nexport default prisma;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,SAAS,IAAI,yJAAA,CAAA,eAAY;uCAChB","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/TON/Desktop/WEBCODE/NextJS/TFKey/tf-manager/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Nav from \"@/app/components/Nav\";\nimport { useSession, signOut } from \"next-auth/react\";\nimport Image from \"next/image\";\nimport { motion } from \"framer-motion\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport prisma from \"@/lib/prisma\";\n\nexport default function Home() {\n  const { data: session } = useSession();\n  const router = useRouter();\n  const [isClient, setIsClient] = useState(false);\n\n  useEffect(() => {\n    setIsClient(true); // Chỉ cho phép sử dụng router sau khi client đã được mount\n  }, []);\n\n  useEffect(() => {\n    if (!isClient || !session) return;\n\n    const checkSessionToken = async () => {\n      if (!session.user?.email) {\n        router.push(\"/login\"); // Nếu không có email, chuyển hướng đến trang đăng nhập\n        return;\n      }\n\n      // Kiểm tra token trong cơ sở dữ liệu\n      const user = await prisma.user.findUnique({\n        where: { email: session.user.email },\n      });\n\n      if (user && user.currentSessionToken !== session.user.currentSessionToken) {\n        console.log(\"Token không hợp lệ, yêu cầu đăng nhập lại...\");\n        signOut({ redirect: false }); // Đăng xuất người dùng\n        router.push(\"/login\"); // Chuyển hướng đến trang đăng nhập\n      }\n    };\n\n    checkSessionToken();\n  }, [session, isClient, router]);\n\n  return (\n    <main className=\"bg-gray-50 min-h-screen\">\n      <Nav />\n      \n      {/* Hero Section */}\n      <section className=\"text-center mt-16 px-6\">\n        <h1 className=\"text-4xl font-bold text-blue-600\">Công cụ tự động hóa & tối ưu quy trình</h1>\n        <p className=\"mt-4 text-gray-600 text-lg max-w-3xl mx-auto\">\n          Chúng tôi cung cấp các giải pháp tối ưu hóa quy trình làm việc, tự động hóa tác vụ \n          giúp bạn tiết kiệm thời gian, tăng hiệu suất và đạt hiệu quả cao nhất.\n        </p>\n      </section>\n\n      {/* Features Section */}\n      <section className=\"mt-12 px-6 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto\">\n        <div className=\"bg-white p-6 rounded-xl shadow-lg text-center\">\n          <h3 className=\"text-xl font-semibold text-blue-500\">Tự động hóa mạnh mẽ</h3>\n          <p className=\"text-gray-600 mt-2\">Giảm thiểu công việc thủ công, tăng tốc độ và độ chính xác.</p>\n        </div>\n        <div className=\"bg-white p-6 rounded-xl shadow-lg text-center\">\n          <h3 className=\"text-xl font-semibold text-blue-500\">Bảo mật & an toàn</h3>\n          <p className=\"text-gray-600 mt-2\">Dữ liệu của bạn được bảo vệ với các tiêu chuẩn bảo mật cao nhất.</p>\n        </div>\n        <div className=\"bg-white p-6 rounded-xl shadow-lg text-center\">\n          <h3 className=\"text-xl font-semibold text-blue-500\">Giao diện thân thiện</h3>\n          <p className=\"text-gray-600 mt-2\">Thiết kế đơn giản nhưng mạnh mẽ, phù hợp với mọi người dùng.</p>\n        </div>\n      </section>\n\n      {/* About Section */}\n      <section className=\"mt-16 bg-white py-12 px-6 shadow-lg\">\n        <div className=\"max-w-4xl mx-auto\">\n          <h2 className=\"text-3xl font-bold text-center text-blue-600\">Giới thiệu về ToolWeb</h2>\n          <p className=\"text-gray-700 mt-6 text-lg leading-relaxed\">\n            ToolWeb là nền tảng giúp tự động hóa quy trình làm việc một cách hiệu quả. \n            Chúng tôi mang đến giải pháp tối ưu dành cho các cá nhân và doanh nghiệp \n            nhằm giảm thiểu thời gian thao tác thủ công, tối đa hóa năng suất, \n            đồng thời đảm bảo tính bảo mật và ổn định. Với giao diện trực quan, \n            mọi thao tác trên hệ thống đều trở nên dễ dàng và tiện lợi. \n          </p>\n          <p className=\"text-gray-700 mt-4 text-lg leading-relaxed\">\n            Các công cụ của chúng tôi được thiết kế để đáp ứng nhu cầu đa dạng, từ \n            quản lý tài khoản, tự động hóa đăng ký, xử lý dữ liệu hàng loạt cho đến \n            tối ưu hóa công việc hàng ngày. Nếu bạn muốn tăng tốc độ và hiệu suất làm việc, \n            hãy để ToolWeb giúp bạn hoàn thành công việc một cách nhanh chóng và chuyên nghiệp.\n          </p>\n        </div>\n      </section>\n\n      {/* User Info (Hiển thị khi đăng nhập) */}\n      {session && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"fixed bottom-4 right-4 flex items-center bg-white shadow-lg p-3 rounded-xl\"\n        >\n          <Image\n            src={session.user?.image || \"/default-avatar.png\"}\n            alt=\"Avatar\"\n            width={40}\n            height={40}\n            className=\"rounded-full border-2 border-blue-500\"\n          />\n          <span className=\"ml-3 text-gray-700 font-semibold\">Xin chào, {session.user?.name}!</span>\n        </motion.div>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUe,SAAS;;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,iJAAA,CAAA,aAAU,AAAD;IACnC,MAAM,SAAS,CAAA,GAAA,iIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,YAAY,OAAO,2DAA2D;QAChF;yBAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;0BAAE;YACR,IAAI,CAAC,YAAY,CAAC,SAAS;YAE3B,MAAM;oDAAoB;oBACxB,IAAI,CAAC,QAAQ,IAAI,EAAE,OAAO;wBACxB,OAAO,IAAI,CAAC,WAAW,uDAAuD;wBAC9E;oBACF;oBAEA,qCAAqC;oBACrC,MAAM,OAAO,MAAM,gHAAA,CAAA,UAAM,CAAC,IAAI,CAAC,UAAU,CAAC;wBACxC,OAAO;4BAAE,OAAO,QAAQ,IAAI,CAAC,KAAK;wBAAC;oBACrC;oBAEA,IAAI,QAAQ,KAAK,mBAAmB,KAAK,QAAQ,IAAI,CAAC,mBAAmB,EAAE;wBACzE,QAAQ,GAAG,CAAC;wBACZ,CAAA,GAAA,iJAAA,CAAA,UAAO,AAAD,EAAE;4BAAE,UAAU;wBAAM,IAAI,uBAAuB;wBACrD,OAAO,IAAI,CAAC,WAAW,mCAAmC;oBAC5D;gBACF;;YAEA;QACF;yBAAG;QAAC;QAAS;QAAU;KAAO;IAE9B,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC,4HAAA,CAAA,UAAG;;;;;0BAGJ,6LAAC;gBAAQ,WAAU;;kCACjB,6LAAC;wBAAG,WAAU;kCAAmC;;;;;;kCACjD,6LAAC;wBAAE,WAAU;kCAA+C;;;;;;;;;;;;0BAO9D,6LAAC;gBAAQ,WAAU;;kCACjB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;gCAAE,WAAU;0CAAqB;;;;;;;;;;;;kCAEpC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;gCAAE,WAAU;0CAAqB;;;;;;;;;;;;kCAEpC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAsC;;;;;;0CACpD,6LAAC;gCAAE,WAAU;0CAAqB;;;;;;;;;;;;;;;;;;0BAKtC,6LAAC;gBAAQ,WAAU;0BACjB,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAA+C;;;;;;sCAC7D,6LAAC;4BAAE,WAAU;sCAA6C;;;;;;sCAO1D,6LAAC;4BAAE,WAAU;sCAA6C;;;;;;;;;;;;;;;;;YAU7D,yBACC,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;;kCAEV,6LAAC,gIAAA,CAAA,UAAK;wBACJ,KAAK,QAAQ,IAAI,EAAE,SAAS;wBAC5B,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;kCAEZ,6LAAC;wBAAK,WAAU;;4BAAmC;4BAAW,QAAQ,IAAI,EAAE;4BAAK;;;;;;;;;;;;;;;;;;;AAK3F;GAtGwB;;QACI,iJAAA,CAAA,aAAU;QACrB,iIAAA,CAAA,YAAS;;;KAFF","debugId":null}},
    {"offset": {"line": 532, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}